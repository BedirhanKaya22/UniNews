{% extends 'base.html' %}
{% load static %}

{% block title %}Duyurular | UniNews{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/duyurular.css' %}">
{% endblock %}

{% block content %}
<div class="page-two-column">
    <section>
        <h1 class="page-title">Duyurular</h1>
        <p class="page-subtitle">Akademik, sınav, burs ve kampüs duyurularını tek ekrandan takip et.</p>

        <div class="ann-filter-row">
            <span class="small text-muted">Tüm duyurular listeleniyor</span>
            <div class="filter-pills">
                <button class="filter-pill active" type="button">Tümü</button>
                <button class="filter-pill" type="button">Akademik</button>
                <button class="filter-pill" type="button">Sınav &amp; Takvim</button>
                <button class="filter-pill" type="button">Burs</button>
            </div>
        </div>

        <div class="search-input-wrapper mb-3 d-flex gap-2">
            <input type="text" class="search-input flex-grow-1"
                   placeholder="Duyuruda ara (ör: burs, final, ders ekle-bırak)...">
            <button class="btn-secondary-custom" type="button">Filtre</button>
        </div>

        {% for post in posts %}
        <article class="news-card ann-card">
            <div class="news-card-inner">
                <div class="news-content">

                    <div class="ann-category-row">
                        <span class="ann-category-badge ann-cat-akademik">DUYURU</span>
                    </div>

                    <div class="ann-meta-top">
                        <span class="ann-date">
                            <i class="bi bi-calendar3"></i> Yayınlanma: {{ post.created_at|date:"d.m.Y" }}
                        </span>
                        <span class="ann-publisher">
                            <i class="bi bi-building"></i> @{{ post.author.username }}
                        </span>
                    </div>

                    <h2 class="news-title">{{ post.title }}</h2>

                    <p class="news-desc">
                        {{ post.content|truncatechars:220 }}
                    </p>

                    <div class="chip-row">
                        <span class="badge-chip">#duyuru</span>
                        <span class="badge-chip">#kampüs</span>
                    </div>

                    <div class="ann-actions">
                        <a class="btn-secondary-custom btn-sm" href="{% url 'post_detail' post.pk %}">
                            <i class="bi bi-file-earmark-text me-1"></i> İncele
                        </a>
                        <a class="btn-primary-custom btn-sm" href="{% url 'post_detail' post.pk %}">
                            <i class="bi bi-box-arrow-up-right me-1"></i> Detay
                        </a>
                    </div>

                </div>
            </div>
        </article>
        {% empty %}
            <div class="dash-card" style="margin-top:16px;">
                Henüz duyuru yok.
            </div>
        {% endfor %}

        <div class="pagination-custom">
            <button type="button">Önceki</button>
            <button type="button" class="active">1</button>
            <button type="button">2</button>
            <button type="button">3</button>
            <button type="button">Sonraki</button>
        </div>
    </section>

    <aside>
        <section class="side-card">
            <h3>Önemli Tarihler</h3>
            <ul class="date-list">
                <li>
                    <span class="date-pill">4–8 Mart</span>
                    <span class="date-text">Ders ekle-bırak haftası</span>
                </li>
                <li>
                    <span class="date-pill">15 Mart</span>
                    <span class="date-text">Vize sınav takvimi son güncelleme</span>
                </li>
                <li>
                    <span class="date-pill">10 Mart</span>
                    <span class="date-text">Başarı bursu son başvuru tarihi</span>
                </li>
            </ul>
        </section>

        <section class="side-card">
            <h3>Burs &amp; Başvuru Son Günler</h3>
            <ul class="simple-list">
                <li>Yemek bursu başvuruları – 05 Mart</li>
                <li>Yurt ücreti taksitlendirme – 12 Mart</li>
                <li>Uluslararası değişim programı – 20 Mart</li>
            </ul>
        </section>

        <section class="side-card">
            <h3>Sık Kullanılan Linkler</h3>
            <ul class="link-list">
                <li><a href="#">Öğrenci Bilgi Sistemi</a></li>
                <li><a href="#">Akademik Takvim</a></li>
                <li><a href="#">Sınav Yönetmelikleri</a></li>
                <li><a href="#">Burs Yönergesi</a></li>
            </ul>
        </section>

        <section class="side-card">
            <h3>Sınav Haftası İpuçları</h3>
            <ul class="bullet-list">
                <li>Sınav saatini ve salonunu en az bir gün önce kontrol et.</li>
                <li>Kimlik kartını yanına almayı unutma.</li>
                <li>Online sınavlarda bağlantı ve cihazını önceden test et.</li>
                <li>Ders sorumlularının duyurularını düzenli kontrol et.</li>
            </ul>
        </section>
    </aside>
</div>
{% endblock %}
