{% extends 'base.html' %}
{% load static %}

{% block title %}Etkinlikler | UniNews{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/etkinlikler.css' %}">
{% endblock %}

{% block content %}
<div class="page-two-column">
    <section>
        <h1 class="page-title">Etkinlikler</h1>
        <p class="page-subtitle">Konserler, seminerler, atölyeler ve tüm kampüs etkinlikleri.</p>

        <div class="gundem-filter-row">
            <span class="small text-muted">Tüm etkinlikler listeleniyor</span>
            <div class="filter-pills">
                <button class="filter-pill active" type="button">Tümü</button>
                <button class="filter-pill" type="button">Bu Hafta</button>
                <button class="filter-pill" type="button">Bu Ay</button>
                <button class="filter-pill" type="button">Sadece Çevrim İçi</button>
            </div>
        </div>

        <div class="search-input-wrapper mb-3 d-flex gap-2">
            <input type="text" class="search-input flex-grow-1" placeholder="Etkinlik veya kulüp ara...">
            <button class="btn-secondary-custom" type="button">Filtre</button>
        </div>

        {% for post in posts %}
        <article class="news-card event-card-modern">
            <div class="event-media">
                {% if post.cover %}
                    <img src="{{ post.cover.url }}" class="event-media-img" alt="">
                {% else %}
                    <img src="https://picsum.photos/seed/event{{ post.pk }}/900/450" class="event-media-img" alt="">
                {% endif %}
                <div class="event-media-chip">
                    <span class="chip-label">ETKİNLİK</span>
                </div>
            </div>

            <div class="event-body">
                <div class="event-body-top">
                    <span class="event-tag">Etkinlik</span>
                    <span class="event-datetime">
                        <i class="bi bi-calendar3"></i> {{ post.created_at|date:"d F Y" }}
                        <span class="dot">•</span>
                        <i class="bi bi-clock"></i> {{ post.created_at|date:"H:i" }}
                    </span>
                </div>

                <h2 class="event-title">{{ post.title }}</h2>

                <div class="event-organizer-row">
                    <span class="event-organizer">
                        <i class="bi bi-people-fill"></i> @{{ post.author.username }}
                    </span>
                    <span class="event-location">
                        <i class="bi bi-geo-alt"></i> Kampüs
                    </span>
                </div>

                <p class="event-desc">
                    {{ post.content|truncatechars:170 }}
                </p>

                <div class="event-body-bottom">
                    <div class="event-stats">
                        <span><i class="bi bi-eye"></i> {{ post.views.count }} görüntülenme</span>
                        <span><i class="bi bi-heart"></i> {{ post.likes.count }} beğeni</span>
                    </div>

                    <a href="{% url 'post_detail' post.pk %}" class="event-action">
                        Detaylar
                        <i class="bi bi-arrow-right-short"></i>
                    </a>
                </div>
            </div>
        </article>
        {% empty %}
            <div class="dash-card" style="margin-top:16px;">
                Henüz etkinlik içeriği yok.
            </div>
        {% endfor %}

        <div class="pagination-custom">
            <button type="button">Önceki</button>
            <button type="button" class="active">1</button>
            <button type="button">2</button>
            <button type="button">3</button>
            <button type="button">Sonraki</button>
        </div>
    </section>

    <aside>
        <section class="side-card">
            <h3>Bugünün Etkinlikleri</h3>
            <ul class="event-mini-list">
                <li>
                    <span class="mini-date">
                        <span class="day">05</span>
                        <span class="month">ARA</span>
                    </span>
                    <div class="mini-info">
                        <p class="mini-title">Kariyer Merkezi Tanıtımı</p>
                        <p class="mini-meta">13:00 • Kariyer Merkezi</p>
                    </div>
                </li>
                <li>
                    <span class="mini-date">
                        <span class="day">05</span>
                        <span class="month">ARA</span>
                    </span>
                    <div class="mini-info">
                        <p class="mini-title">Erasmus Bilgilendirme Toplantısı</p>
                        <p class="mini-meta">16:00 • Online</p>
                    </div>
                </li>
            </ul>
        </section>

        <section class="side-card">
            <h3>Kategori Etiketleri</h3>
            <div class="tag-list event-tags">
                <span>#konser</span>
                <span>#söyleşi</span>
                <span>#atölye</span>
                <span>#spor</span>
                <span>#kariyer</span>
                <span>#online</span>
                <span>#kulüpfest</span>
            </div>
        </section>

        <section class="side-card">
            <h3>En Aktif Kulüpler</h3>
            <ul class="simple-list club-list">
                <li>Girişimcilik Kulübü</li>
                <li>Bilgisayar ve Yazılım Kulübü</li>
                <li>Fotoğrafçılık Topluluğu</li>
                <li>Müzik ve Sahne Sanatları Kulübü</li>
            </ul>
        </section>

        <section class="side-card">
            <h3>Etkinlik İpuçları</h3>
            <ul class="bullet-list">
                <li>Çoğu etkinlik için öğrenci kartını yanında bulundur.</li>
                <li>Kontenjanlı etkinliklere önceden kayıt yaptır.</li>
                <li>Online etkinliklerde bağlantı linki e-posta ile gelir.</li>
                <li>Etkinlik sonrası geri bildirim formunu doldurmayı unutma.</li>
            </ul>
        </section>
    </aside>
</div>
{% endblock %}
